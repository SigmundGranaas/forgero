plugins {
	id 'fabric-loom' version '1.1-SNAPSHOT' apply false
}

version = "${project.forgero_version}-BETA-${project.mc_target}"
group = project.maven_group
archives_base_name = project.archives_base_name

subprojects {
	version = "${project.forgero_version}-BETA-${project.mc_target}"
	group = project.maven_group
	archives_base_name = project.archives_base_name

	repositories {
		maven { url "https://api.modrinth.com/maven" }
		maven { url "https://maven.shedaniel.me/" }
		maven { url "https://cursemaven.com" }
		maven { url 'https://maven.blamejared.com' }
		maven { url "https://minecraft.guntram.de/maven/" }
		maven { url "https://maven.terraformersmc.com/" }
		maven { url "https://maven.wispforest.io/" }
		maven { url "https://ladysnake.jfrog.io/artifactory/mods" }
		maven { url "https://maven.cafeteria.dev" }
		maven { url "https://maven.jamieswhiteshirt.com/libs-release" }
		maven { url "https://storage.googleapis.com/devan-maven/" }
		maven { url 'https://maven.gegy.dev' }
		maven { url 'https://maven.kosmx.dev/' }
		maven { url 'https://jitpack.io' }
		mavenLocal()
	}
}

configure(subprojects) {
	apply plugin: 'java-library'
}

task copyJars(type: Copy) {
	group = 'build'
	from subprojects.collect { it.tasks.withType(AbstractArchiveTask) }
	exclude "**/*-dev.jar"
	into "$buildDir/libs"
}
